% load packages
\usepackage{float}
\usepackage{amsmath,amsfonts}
\usepackage{algpseudocode}
\usepackage[ruled, vlined,linesnumbered]{algorithm2e}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{soul}
\usepackage{listings}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{makecell}
\usepackage{galois}
\usepackage{mathpartir}
\usepackage{bussproofs}
\usepackage{mathtools}
\usepackage{colortbl}
\usepackage{hhline}
\usepackage{stmaryrd}
\usepackage{microtype}
\usepackage{hyperref}
\usepackage{balance}
\usepackage{adjustbox}
\usepackage{tikz}
\usepackage{csquotes}
\usepackage{url}
\usepackage{amstext} % for \text macro
\usepackage{array}   % for \newcolumntype macro

% box
\newcommand{\cfbox}[2]{%
  \colorlet{currentcolor}{.}%
  {\color{#1}%
  \fbox{\color{currentcolor}#2}}%
}
\newcommand{\lcolorbox}[2]{\adjustbox{padding=0ex 1ex 1ex 1ex, bgcolor=#1}{#2}}
\newcommand{\rcolorbox}[2]{\adjustbox{padding=1ex 1ex 0ex 1ex, bgcolor=#1}{#2}}

% table rules
\newcolumntype{?}{!{\vrule width 1pt}}
\newcommand*{\belowrulesepcolor}[1]{%
  \noalign{%
    \kern-\belowrulesep
    \begingroup
      \color{#1}%
      \hrule height\belowrulesep
    \endgroup
  }%
}
\newcommand*{\aboverulesepcolor}[1]{%
  \noalign{%
    \begingroup
      \color{#1}%
      \hrule height\aboverulesep
    \endgroup
    \kern-\aboverulesep
  }%
}

% colors
\definecolor{gainsboro}{rgb}{0.86, 0.86, 0.86}
\definecolor{dkgreen}{rgb}{0, 0.5, 0}
\definecolor{lightred}{rgb}{0.93, 0.57 0.52}
\definecolor{esnt}{rgb}{0.20, 0.20, 0.20}
\definecolor{esparam}{rgb}{0.16, 0.63, 0.59}
\definecolor{esalg}{rgb}{0.12, 0.42, 0.65}
\definecolor{esvar}{rgb}{0.16, 0.63, 0.59}
\definecolor{gray1}{rgb}{0.95, 0.95, 0.95}
\definecolor{gray2}{rgb}{0.85, 0.85, 0.85}
\definecolor{gray3}{rgb}{0.75, 0.75, 0.75}

\newcolumntype{L}{>{$}l<{$}} % math-mode version of "l" column type
\newcommand{\llb}{\llbracket}
\newcommand{\rrb}{\rrbracket}

% basic
\newcommand*{\sphinxDeclareColorOption}[2]{%
   \definecolor{#1}#2%
}%
\sphinxDeclareColorOption{InnerLinkColor}{{rgb}{0.208,0.374,0.486}}
\newcommand{\inblue}[1]{{\color{InnerLinkColor}{#1}}}
%\newcommand{\inblue}[1]{{\color{blue}{#1}}}
\newcommand{\inred}[1]{{\color{red}{#1}}}
\newcommand{\x}[1]{\inred{#1}}
\newcommand{\y}[1]{\textbf{\inred{#1}}}
\newcommand{\todo}{\inred{TODO}}
%\newcommand{\powerset}{\mathcal{P}}
\newcommand{\tif}{\text{if} \; }
\newcommand{\telse}{\text{otherwise}}
\newcommand{\tst}{{\; \text{s.t.} \; }}

% Our tool name
\newcommand{\name}[1]{\textsf{#1}\xspace}
\newcommand{\ssf}[1]{\ensuremath{\mathsf{#1}}\xspace}
\newcommand{\sbf}[1]{\textbf{\small #1}\xspace}
\newcommand{\stt}[1]{\texttt{\small #1}\xspace}
\newcommand{\dsl}{\name{Wasm-DSL}}
\newcommand{\dl}{\name{DL}}
\newcommand{\al}{\name{AL}}
\newcommand{\spectec}{\name{\$SRC}}
\newcommand{\dslname}{SpecTec\xspace}
\newcommand{\ires}{\ssf{IR_{\mathsf{ES}}}}

% codes
\newcommand{\code}[1]{\text{\lstinline[style=JS]!#1!}} 
\newcommand{\scode}[1]{\texttt{\scriptsize #1}} 
\newcommand{\bcode}[1]{\texttt{\small #1}}
\newcommand{\ircode}[1]{\text{\lstinline[style=ires]!#1!}}

\newcommand{\kwsyn}{\bcode{syntax}}
\newcommand{\kwret}{\bcode{return}}

\newcommand{\kwalg}{\bcode{algorithm}}
\newcommand{\kweq}{\coloneqq}
\newcommand{\kwdef}{\bcode{def}}
\newcommand{\kwif}{\bcode{if}}
\newcommand{\kwreturn}{\bcode{return}}
\newcommand{\kweither}{\bcode{either}}
\newcommand{\kwenter}{\bcode{enter}}
\newcommand{\kwassert}{\bcode{assert}}
\newcommand{\kwpush}{\bcode{push}}
\newcommand{\kwpop}{\bcode{pop}}
\newcommand{\kwpopall}{\bcode{popall}}
\newcommand{\kwlet}{\bcode{let}}
\newcommand{\kwtrap}{\bcode{trap}}
\newcommand{\kwnop}{\bcode{nop}}
\newcommand{\kwexecute}{\bcode{execute}}
\newcommand{\kwexecuteseq}{\bcode{executeseq}}
\newcommand{\kwperform}{\bcode{perform}}
\newcommand{\kwexit}{\bcode{exit}}
\newcommand{\kwref}{\bcode{ref}}
\newcommand{\kwreplace}{\bcode{replace}}
\newcommand{\kwiscaseof}{\bcode{iscaseof}}
\newcommand{\kwisdefined}{\bcode{isdefined}}
\newcommand{\kwisvalid}{\bcode{isvalid}}
%\newcommand{\kwwasmc}{\bcode{wasmc}}
%\newcommand{\kw}{\bcode{}}
\newcommand{\kwnot}{\bcode{not}}
\newcommand{\kwequ}{\bcode{=}}
\newcommand{\kwrl}{\bcode{(}}
\newcommand{\kwrr}{\bcode{)}}
\newcommand{\kwcl}{\bcode{\{}}
\newcommand{\kwcr}{\bcode{\}}}
\newcommand{\kwsl}{\bcode{[}}
\newcommand{\kwsr}{\bcode{]}}
\newcommand{\kwass}{\bcode{:=}}
\newcommand{\kwext}{\bcode{:+}}
\newcommand{\kwcat}{\bcode{++}}

\newcommand{\unop}{\ensuremath{\otimes}}
\newcommand{\binop}{\ensuremath{\oplus}}

% Basic
\DeclareMathAlphabet{\mathpzc}{T1}{pzc}{m}{it}
\newcommand{\powerset}[1]{\mathcal{P}(#1)}
\newcommand{\abs}[1]{\widehat{#1}}
\newcommand{\finmap}{{\xrightarrow[]{\text{fin}}}}
\newcommand{\mapstos}{\;\dot{\mapsto}\;}
\newcommand{\Dom}{\name{Dom}}
\DeclarePairedDelimiter{\norm}{\lvert}{\rvert} 

% Getters
\newcommand{\getfunc}{\name{func}}
\newcommand{\getinst}{\name{inst}}
\newcommand{\getnext}{\name{next}}
\newcommand{\getcaller}{\name{caller}}
\newcommand{\getlab}{\name{label}}

% Values
\newcommand{\valset}{\mathbb{V}}
\newcommand{\val}{v}
\newcommand{\pvalset}{\valset^\name{p}}
\newcommand{\pval}{\val^\name{p}}
\newcommand{\boolset}{\valset_\name{bool}}
\newcommand{\bool}{b}
\newcommand{\true}{\code{\#t}}
\newcommand{\false}{\code{\#f}}
\newcommand{\intset}{\valset_\name{int}}
\newcommand{\strset}{\valset_\name{str}}

% DL Syntax
\newcommand{\defnset}{\mathfrak{D}}
\newcommand{\defn}{d}
\newcommand{\infrset}{\mathcal{R}}
\newcommand{\infr}{r}
\newcommand{\funcset}{\mathcal{F}}
\newcommand{\func}{f}

% AL Syntax
\newcommand{\progset}{\mathfrak{P}}
\newcommand{\prog}{p}
\newcommand{\algset}{\mathcal{A}}
\newcommand{\alg}{a}
\newcommand{\instset}{\mathcal{I}}
\newcommand{\inst}{i}
\newcommand{\exprset}{\mathcal{E}}
\newcommand{\expr}{e}
\newcommand{\condset}{\mathcal{C}}
\newcommand{\cond}{c}
\newcommand{\numset}{\mathcal{N}}
\newcommand{\num}{n}
\newcommand{\qualset}{\mathcal{Q}}
\newcommand{\qual}{q}
\newcommand{\wasmcset}{\mathcal{W}}
\newcommand{\wasmc}{w}
\newcommand{\cnstrset}{\mathcal{K}}
\newcommand{\cnstr}{k}

% Variables
\newcommand{\varset}{\mathcal{X}}
\newcommand{\varx}{x}
\newcommand{\varf}{f}
\newcommand{\vart}{t}
\newcommand{\varp}{p}

% Field Mappings
\newcommand{\fmapset}{\mathbb{M}}
\newcommand{\fmap}{m}
\newcommand{\jsfmapset}{\fmapset_\js}
\newcommand{\jsfmap}{\fmap_\js}

% Transition Relations
\newcommand{\trans}[1]{\leadsto_{#1}}

\newcommand{\hide}[1]{}
\newcommand{\unify}{\ensuremath{\mathcal{U}}\xspace}
\newcommand{\dltoil}{\ensuremath{\mathcal{T}}\xspace}

% Spec
\newcommand{\specdsl}{$SPEC_{DSL}$}
